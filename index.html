<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>BONA BEETLE | PGK Formosa Apex å»ºè­°ç³»çµ±</title>
    
    <!-- æ ¸å¿ƒè³‡æºè¼‰å…¥ -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700;900&display=swap');
        
        :root {
            --bona-gold: #CA8A04;
            --bona-black: #050505;
            --bona-zinc: #18181B;
        }

        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background-color: var(--bona-black); 
            margin: 0; 
            color: #E2E8F0;
            overflow-x: hidden;
        }

        .bg-grid {
            position: fixed; inset: 0; z-index: -1;
            background-size: 32px 32px;
            background-image: linear-gradient(to right, rgba(202, 138, 4, 0.05) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(202, 138, 4, 0.05) 1px, transparent 1px);
        }

        /* ============================================================
           ğŸš€ ã€V6.35 çµ‚æ¥µ A4 å–®é åˆ—å°å¼•æ“ã€‘
           ============================================================ */
        
        .print-only-cert { display: none; }

        @media print {
            @page { size: A4; margin: 0; }
            html, body { 
                background: white !important; 
                background-color: white !important;
                color: black !important;
                margin: 0 !important;
                padding: 0 !important;
                height: 100vh;
                overflow: hidden !important; 
            }
            #web-view-ui, .no-print, .bg-grid { display: none !important; }
            .print-only-cert { 
                display: block !important; 
                background: white !important;
                color: black !important;
                padding: 20px !important; 
                width: 210mm;
                height: 297mm;
                box-sizing: border-box;
                position: relative !important;
            }
            .cert-border { 
                border: 4px solid #CA8A04 !important; 
                padding: 25px !important;
                height: 100% !important;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
            }
            * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
            .cert-gold-text { color: #CA8A04 !important; font-weight: 900 !important; }
            .cert-bg-gray { background-color: #f5f5f5 !important; border: 1px solid #ddd !important; }
            .print-chart-box {
                margin: 10px 0;
                height: 240px; 
                border: 1px solid #eee;
                background: #fff;
                border-radius: 12px;
                padding: 15px;
                display: block !important;
            }
        }

        .animate-fade-up { animation: fadeUp 0.6s ease-out forwards; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        input {
            background: rgba(24, 24, 27, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            padding: 1rem;
            border-radius: 1rem;
            outline: none;
            transition: all 0.3s;
        }
        input:focus { border-color: #CA8A04; box-shadow: 0 0 15px rgba(202, 138, 4, 0.2); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- å…¨åŸŸæ ¸å¿ƒé…ç½® ---
        const BRAND_NAME = "BONA BEETLE";
        const MAKE_WEBHOOK_URL = "https://hook.us2.make.com/amg1tvqnbhch5cjnlh6ue57473ehlstc"; 
        const LOGO_FILENAME = "./logo.png";
        const EFF_CONSTANT = 3.48;
        const MAX_DAYS = 700;
        const MAX_WEIGHT = 75;

        const App = () => {
            const [view, setView] = useState('input'); 
            const [activeTab, setActiveTab] = useState('summary');
            const [showModal, setShowModal] = useState(false);
            const [isSending, setIsSending] = useState(false);
            const [contact, setContact] = useState('');
            const [logoError, setLogoError] = useState(false);
            const [formData, setFormData] = useState({ id: '', w: '', hatch: '', check: new Date().toISOString().split('T')[0], sub: 'æœ¨å±‘' });
            const [report, setReport] = useState(null);

            const BASELINE = [ { x: 0, y: 0 }, { x: 150, y: 25 }, { x: 280, y: 46 }, { x: 440, y: 49 }, { x: 560, y: 37 } ];

            const handleAnalyze = (e) => {
                e.preventDefault();
                setView('loading');
                const w = parseFloat(formData.w);
                const days = Math.max(1, Math.floor((new Date(formData.check) - new Date(formData.hatch)) / (1000 * 60 * 60 * 24)));
                
                let status = "å„ªè‰¯ (Elite)";
                let advice = "æˆé•·æ–œç‡é©šäººï¼Œå€‹é«”æ­£è™•æ–¼ç©©å®šçš„ç†ŸåŒ–æœŸã€‚å»ºè­°é–å®šæº«æ§ç¯€å¥ï¼Œä»¥æœ€å¤§åŒ–å¤§é¡è§’è³ªå¯†åº¦ã€‚";
                if (w < 45) {
                    status = "ç™¼è‚²åç·©";
                    advice = "åµæ¸¬åˆ°è½‰æ›æ•ˆç‡åä½ã€‚ç›®å‰å€‹é«”ä½é»ä½æ–¼é»ƒé‡‘åŸºæº–ç·šï¼Œå»ºè­°é©åº¦æ·»åŠ ã€Œç™»å¤§èŸ²ã€å„ªåŒ–ä¸‹ä¸€éšæ®µçš„éª¨æ¶è½‰åŒ–æ•ˆèƒ½ã€‚";
                }

                setTimeout(() => {
                    setReport({ ...formData, weight: w, days, potential: (w * 2.15).toFixed(1), status, advice });
                    setView('report');
                }, 1000);
            };

            const submitLeadAndPrint = async (e) => {
                e.preventDefault();
                setIsSending(true);
                if (MAKE_WEBHOOK_URL) {
                    try {
                        await fetch(MAKE_WEBHOOK_URL, {
                            method: "POST",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify({ 
                                contact: contact, 
                                specimen_id: report.id, 
                                weight: report.weight, 
                                hatch_date: report.hatch,
                                check_date: report.check,
                                days: report.days,
                                potential_size: report.potential,
                                reward: "PGK_ANALYSIS_HANDBOOK", // æ¨™è¨˜ç‚ºç´¢å–æ‰‹å†Š
                                timestamp: new Date().toISOString() 
                            })
                        });
                    } catch (err) { console.error(err); }
                }
                setIsSending(false);
                setShowModal(false);
                setTimeout(() => window.print(), 800);
            };

            const LogoIcon = ({ className }) => {
                if (!logoError) return <img src={LOGO_FILENAME} className={`${className} object-contain`} onError={() => setLogoError(true)} alt="Logo" />;
                return <div className={`${className} bg-gradient-to-br from-[#CA8A04] to-[#855B02] rounded-xl flex items-center justify-center shadow-lg border border-yellow-500/50 text-black font-black text-2xl`}>B</div>;
            };

            const getX = (d) => (d / MAX_DAYS) * 100; 
            const getY = (w) => 100 - (w / MAX_WEIGHT) * 100;

            if (view === 'input') return (
                <div className="min-h-screen flex items-center justify-center p-6 text-left relative">
                    <div className="bg-grid"></div>
                    <div className="w-full max-w-md bg-[#18181B] border border-white/5 p-10 rounded-[2.5rem] shadow-2xl animate-fade-up">
                        <header className="text-center mb-10">
                            <LogoIcon className="w-20 h-20 mx-auto mb-6 p-0.5 bg-black rounded-xl border border-[#CA8A04]" />
                            <h1 className="text-3xl font-black text-white uppercase italic tracking-tighter" style={{ textShadow: '0 0 12px rgba(202, 138, 4, 0.4)' }}>
                                BONA <span className="text-[#CA8A04]">BEETLE</span>
                            </h1>
                            <p className="text-[10px] text-gray-500 uppercase font-bold tracking-widest mt-1">PGK Formosa Apex å»ºè­°ç³»çµ±</p>
                        </header>
                        <form onSubmit={handleAnalyze} className="space-y-6 flex flex-col text-left">
                            <input required placeholder="å€‹é«”ç·¨è™Ÿ (å¦‚: PGK-01)" value={formData.id} onChange={e=>setFormData({...formData, id: e.target.value})} className="w-full" />
                            <div className="grid grid-cols-2 gap-4 text-left">
                                <div className="space-y-1">
                                    <label className="text-[9px] text-gray-500 font-bold uppercase ml-1">æŒ–å‡ºæ—¥æœŸ</label>
                                    <input type="date" required value={formData.hatch} onChange={e=>setFormData({...formData, hatch: e.target.value})} className="text-xs w-full" />
                                </div>
                                <div className="space-y-1">
                                    <label className="text-[9px] text-gray-500 font-bold uppercase ml-1">ä»Šæ—¥æ—¥æœŸ</label>
                                    <input type="date" required value={formData.check} onChange={e=>setFormData({...formData, check: e.target.value})} className="text-xs w-full" />
                                </div>
                            </div>
                            <div className="flex flex-col gap-1 text-center">
                                <label className="text-[10px] text-[#CA8A04] font-black uppercase tracking-widest">ç›®å‰é‡é‡ (g)</label>
                                <input type="number" step="0.1" required placeholder="0.0" value={formData.w} onChange={e=>setFormData({...formData, w: e.target.value})} className="text-center text-4xl font-black text-white" />
                            </div>
                            <div className="flex gap-2">
                                {['æœ¨å±‘', 'èŒ'].map(s => <button key={s} type="button" onClick={()=>setFormData({...formData, sub: s})} className={`flex-1 py-4 rounded-xl text-xs font-black transition-all ${formData.sub === s ? 'bg-[#CA8A04] text-black shadow-lg shadow-yellow-900/20' : 'bg-zinc-900 text-gray-500'}`}>{s}</button>)}
                            </div>
                            <button type="submit" className="w-full bg-[#CA8A04] text-black font-black py-5 rounded-2xl text-sm uppercase tracking-widest shadow-xl mt-4 active:scale-95 transition-all">å•Ÿå‹•æ•¸æ“šè¨ºæ–·</button>
                        </form>
                    </div>
                </div>
            );

            if (view === 'loading') return <div className="min-h-screen flex flex-col items-center justify-center bg-[#050505]"><div className="w-16 h-16 border-4 border-zinc-900 border-t-[#CA8A04] rounded-full animate-spin mb-8"></div><p className="text-[11px] text-[#CA8A04] font-mono tracking-[0.5em] animate-pulse uppercase text-center">Syncing_Bona_Engine</p></div>;

            return (
                <div className="min-h-screen p-4 md:p-10 flex flex-col items-center text-left relative">
                    <div className="bg-grid"></div>
                    
                    {/* ç¶²é  UI */}
                    <div id="web-view-ui" className="w-full max-w-2xl animate-fade-up">
                        {showModal && (
                            <div className="fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-6 no-print">
                                <div className="w-full max-w-sm bg-[#18181B] border border-[#CA8A04] p-10 rounded-[2.5rem] shadow-2xl text-center space-y-6 animate-fade-up">
                                    <div className="text-4xl">ğŸ“œ</div>
                                    <h3 className="text-xl font-black text-white uppercase leading-none">{BRAND_NAME}<br/><span className="text-[#CA8A04] text-sm tracking-widest">é«˜æ¸…å»ºè­°æ›¸ & é£¼è‚²æ‰‹å†Š</span></h3>
                                    <p className="text-xs text-gray-400 px-4 leading-relaxed">è¼¸å…¥è¯çµ¡è³‡è¨Šï¼ˆEmail æˆ– Lineï¼‰ï¼Œç³»çµ±å°‡ä¸‹è¼‰é«˜æ¸…å»ºè­°æ›¸ï¼Œä¸¦åŠ ç¢¼è´ˆé€ã€ŠPGK å·”å³°é£¼è‚²åˆ†ææ‰‹å†Šã€‹ã€‚</p>
                                    <form onSubmit={submitLeadAndPrint} className="space-y-4 flex flex-col">
                                        <input required placeholder="è¼¸å…¥æ‚¨çš„è¯çµ¡è³‡è¨Š" value={contact} onChange={e=>setContact(e.target.value)} className="w-full bg-black border border-white/10 p-4 rounded-xl text-white outline-none focus:border-[#CA8A04] text-center" />
                                        <button type="submit" disabled={isSending} className="w-full bg-[#CA8A04] text-black font-black py-4 rounded-xl text-xs uppercase tracking-widest shadow-lg active:scale-95">
                                            è§£é–PDFèˆ‡é£¼è‚²æ‰‹å†Š
                                        </button>
                                        <button type="button" onClick={()=>setShowModal(false)} className="text-[10px] text-gray-600 font-black uppercase py-2 text-center block w-full">è¿”å›å ±å‘Š</button>
                                    </form>
                                </div>
                            </div>
                        )}

                        <div className="bg-[#18181B] border border-[#CA8A04]/40 rounded-[2.5rem] shadow-2xl overflow-hidden relative no-print">
                            <header className="p-8 border-b border-white/5 flex justify-between items-center bg-black/40">
                                <div className="flex items-center gap-4 text-left font-bold"><LogoIcon className="w-14 h-14" /><div className="text-left"><h1 className="text-xl font-black text-white uppercase italic leading-none">{BRAND_NAME}</h1><p className="text-[9px] text-gray-500 font-mono tracking-widest uppercase font-bold text-left">PGK Formosa Apex Report</p></div></div>
                                <div className="text-right text-xs font-mono font-black text-[#CA8A04]">#{report.id}</div>
                            </header>
                            <nav className="flex bg-black/30 p-2 border-b border-white/5">
                                {[ {id:'summary', label:'æ•¸æ“šæ¦‚è¦½'}, {id:'path', label:'æ¨¡å‹å°æ¨™'}, {id:'advice', label:'å°ˆå®¶å»ºè­°'} ].map(t => (
                                    <button key={t.id} onClick={() => setActiveTab(t.id)} className={`flex-1 py-3 text-[10px] font-black uppercase tracking-widest rounded-xl transition-all ${activeTab === t.id ? 'bg-[#CA8A04] text-black shadow-lg' : 'text-gray-500 hover:text-white'}`}>{t.label}</button>
                                ))}
                            </nav>
                            <main className="p-8 md:p-12 min-h-[400px]">
                                {activeTab === 'summary' && (
                                    <div className="space-y-12 animate-fade-up text-left">
                                        <div className="flex justify-between items-end gap-6 text-left font-bold">
                                            <div className="text-left"><h2 className="text-[10px] font-black text-[#CA8A04] uppercase border-l-4 border-[#CA8A04] pl-3 mb-4 font-bold tracking-widest">Weight Snapshot</h2><div className="text-8xl font-black text-white tracking-tighter inline-block relative">{report.weight}<span className="text-sm text-[#CA8A04] absolute -right-8 bottom-4 font-mono font-bold text-left font-bold">g</span></div></div>
                                            <div className="text-right pb-2 text-right"><div className="text-[10px] text-gray-600 uppercase font-bold mb-1 tracking-widest">é‡æ¸¬æ—¥é½¡</div><div className="text-2xl font-black text-white font-mono leading-none">{report.days} <span className="text-xs text-[#CA8A04] font-bold uppercase text-right">Days</span></div></div>
                                        </div>
                                        <div className="grid grid-cols-2 gap-4 font-bold text-left">
                                            <div className="bg-black/40 p-6 rounded-2xl border border-white/5 text-left"><div className="text-[9px] text-gray-600 uppercase font-black mb-2">é‘‘å®šè©•ç´š</div><div className={`text-sm font-black uppercase text-[#CA8A04]`}>â— {report.status}</div></div>
                                            <div className="bg-black/40 p-6 rounded-2xl border border-white/5 text-left"><div className="text-[9px] text-gray-600 uppercase font-black mb-2">ç•¶å‰é£Ÿæ</div><div className="text-sm font-black text-white uppercase">{report.sub} (PRO)</div></div>
                                        </div>
                                        <div className="p-6 bg-[#CA8A04]/5 rounded-3xl border border-[#CA8A04]/20 text-center"><p className="text-xs text-[#CA8A04] font-bold italic text-left italic">ã€Œé ä¼°ç¾½åŒ–æ½›åŠ›å°ºå¯¸ç´„ç‚º <span className="text-white font-black text-lg underline">{report.potential} mm</span>ã€‚ã€</p></div>
                                    </div>
                                )}
                                {activeTab === 'path' && (
                                    <div className="space-y-10 animate-fade-up text-left font-bold">
                                        <h3 className="text-xs font-black text-white uppercase tracking-widest flex items-center gap-2 text-left"><span className="w-2 h-2 bg-[#CA8A04] rounded-full animate-pulse text-left"></span>å…¨å° PGK å·”å³°å°æ¨™ç©ºé–“</h3>
                                        <div className="h-72 w-full border-l border-b border-zinc-800 relative flex items-end px-4 overflow-hidden bg-black/60 rounded-2xl">
                                            <svg width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none" className="overflow-visible">
                                                <path d={`M ${BASELINE.map(p => `${getX(p.x)},${getY(p.y)}`).join(' L ')}`} fill="none" stroke="rgba(255,255,255,0.1)" strokeWidth="1" strokeDasharray="3" />
                                                <circle cx={getX(report.days)} cy={getY(report.weight)} r="4" fill="#CA8A04" />
                                                <text x={getX(report.days)} y={getY(report.weight)-15} fill="#CA8A04" fontSize="5" textAnchor="middle" fontWeight="black" className="italic">{report.weight}g</text>
                                            </svg>
                                        </div>
                                        <div className="p-5 bg-zinc-900 rounded-2xl border border-white/5 flex justify-between items-center"><span className="text-[10px] text-gray-500 uppercase font-black tracking-widest">å°æ¨™è½‰åŒ–å¸¸æ•¸</span><span className="text-sm font-black text-[#CA8A04]">{EFF_CONSTANT} mm/g</span></div>
                                    </div>
                                )}
                                {activeTab === 'advice' && (
                                    <div className="space-y-8 animate-fade-up text-left">
                                        <div className="bg-white text-black p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden group">
                                            <div className="flex gap-6 items-start relative z-10 text-left"><div className="w-14 h-14 rounded-xl bg-black flex items-center justify-center text-[#CA8A04] text-2xl shrink-0 text-center">ğŸ§ </div><div className="space-y-3 flex-1 text-left"><p className="text-[10px] text-gray-500 font-black uppercase tracking-[0.3em]">AI ç¹è‚²å°å¸«å»ºè­°</p><p className="text-sm text-black leading-relaxed font-bold italic">ã€Œ{report.advice}ã€</p></div></div>
                                        </div>
                                        <button onClick={()=>setShowModal(true)} className="w-full bg-[#CA8A04] text-black font-black py-6 rounded-3xl text-xs uppercase tracking-[0.4em] shadow-2xl hover:bg-yellow-500 transition-all text-center font-bold">
                                            ä¸‹è¼‰PDFä¸¦ç´¢å–PGKé£¼è‚²åˆ†ææ‰‹å†Š
                                        </button>
                                    </div>
                                )}
                            </main>
                        </div>
                        <button onClick={()=>setView('input')} className="mt-8 text-[10px] text-gray-800 font-black uppercase tracking-[0.4em] hover:text-[#CA8A04] transition-all no-print mx-auto block font-bold">â† è¿”å›é‡æ–°éŒ„å…¥ (RESET)</button>
                    </div>

                    {/* ã€åˆ—å°å°ˆç”¨æ²™ç›’ã€‘V6.35 å¼·åŒ–é¡¯å½± + æ›²ç·šåŒæ­¥ */}
                    {report && (
                        <div className="print-only-cert cert-border">
                            {/* è­‰æ›¸é çœ‰ */}
                            <div style={{ display: 'flex', justifyContent: 'space-between', borderBottom: '3px solid #CA8A04', paddingBottom: '15px', marginBottom: '20px' }}>
                                 <div style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>
                                    <div style={{ background: 'black', color: '#CA8A04', width: '60px', height: '60px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: '900', fontSize: '26px', borderRadius: '8px' }}>B</div>
                                    <div>
                                        <h1 style={{ margin: 0, fontSize: '24px', fontWeight: '900' }}>{BRAND_NAME} <span className="cert-gold-text">SYSTEMS</span></h1>
                                        <p style={{ margin: 0, fontSize: '10px', color: '#666', letterSpacing: '3px', fontWeight: 'bold', textTransform: 'uppercase' }}>PGK FORMOSA APEX OFFICIAL CERTIFICATE</p>
                                    </div>
                                 </div>
                                 <div style={{ textAlign: 'right' }}>
                                    <p style={{ margin: 0, fontSize: '9px', color: '#999', fontWeight: 'bold' }}>é‘‘å®šç·¨è™Ÿ ID</p>
                                    <p style={{ margin: 0, fontSize: '16px', fontWeight: '900', color: '#CA8A04' }}>#{report.id}</p>
                                 </div>
                            </div>

                            {/* æ•¸æ“šæ‘˜è¦ */}
                            <div style={{ marginBottom: '20px' }}>
                                <h2 style={{ fontSize: '12px', color: '#CA8A04', fontWeight: '900', textTransform: 'uppercase', marginBottom: '10px', borderLeft: '4px solid #CA8A04', paddingLeft: '10px' }}>æ•¸æ“šç´€éŒ„æ¦‚è¦½ / Summary</h2>
                                <div style={{ display: 'flex', gap: '50px' }}>
                                    <div><p style={{ margin: 0, fontSize: '9px', color: '#999', fontWeight: 'bold' }}>å¯¦æ¸¬é«”é‡</p><p style={{ margin: 0, fontSize: '46px', fontWeight: '900' }}>{report.weight}<span style={{ fontSize: '16px', color: '#CA8A04', marginLeft: '3px' }}>g</span></p></div>
                                    <div><p style={{ margin: 0, fontSize: '9px', color: '#999', fontWeight: 'bold' }}>é‡æ¸¬æ—¥é½¡</p><p style={{ margin: 0, fontSize: '46px', fontWeight: '900' }}>{report.days}<span style={{ fontSize: '16px', color: '#CA8A04', marginLeft: '3px' }}>Days</span></p></div>
                                    <div style={{ marginLeft: 'auto', textAlign: 'right' }}><p style={{ margin: 0, fontSize: '9px', color: '#999', fontWeight: 'bold' }}>é æ¸¬ç¾½åŒ–å°ºå¯¸</p><p style={{ margin: 0, fontSize: '46px', fontWeight: '900', color: '#CA8A04' }}>{report.potential}<span style={{ fontSize: '16px', color: '#000', marginLeft: '3px' }}>mm</span></p></div>
                                </div>
                            </div>

                            {/* åˆ—å°åœ–è¡¨ */}
                            <div className="print-chart-box">
                                <p style={{ margin: '0 0 8px 0', fontSize: '10px', fontWeight: '900', color: '#333', textTransform: 'uppercase' }}>ç”Ÿé•·è»Œè·¡å°æ¨™ / Growth Trajectory</p>
                                <div style={{ height: '180px', width: '100%', borderLeft: '2px solid #ddd', borderBottom: '2px solid #ddd', position: 'relative', display: 'flex', alignItems: 'flex-end' }}>
                                    <svg width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none" className="overflow-visible">
                                        <line x1="0" y1="25" x2="100" y2="25" stroke="#f0f0f0" strokeWidth="0.5" />
                                        <line x1="0" y1="50" x2="100" y2="50" stroke="#f0f0f0" strokeWidth="0.5" />
                                        <line x1="0" y1="75" x2="100" y2="75" stroke="#f0f0f0" strokeWidth="0.5" />
                                        <path d={`M ${BASELINE.map(p => `${getX(p.x)},${getY(p.y)}`).join(' L ')}`} fill="none" stroke="#ccc" strokeWidth="1.5" strokeDasharray="3" />
                                        <circle cx={getX(report.days)} cy={getY(report.weight)} r="4" fill="#CA8A04" stroke="black" strokeWidth="0.5" />
                                        <text x={getX(report.days)} y={getY(report.weight)-12} fill="#CA8A04" fontSize="5" textAnchor="middle" fontWeight="900" fontStyle="italic">{report.weight}g</text>
                                    </svg>
                                    <div style={{ position: 'absolute', bottom: '-15px', right: '0', fontSize: '8px', color: '#999', fontWeight: 'bold' }}>Scale: {MAX_DAYS}D / {MAX_WEIGHT}g</div>
                                </div>
                            </div>

                            {/* AI å»ºè­°å€ */}
                            <div className="cert-bg-gray" style={{ padding: '25px', borderRadius: '15px', marginTop: 'auto', marginBottom: '15px' }}>
                                <div style={{ display: 'flex', gap: '15px', alignItems: 'flex-start' }}>
                                    <div style={{ fontSize: '30px' }}>ğŸ§ </div>
                                    <div style={{ textAlign: 'left' }}>
                                        <p style={{ margin: '0 0 5px 0', fontSize: '11px', fontWeight: '900', color: '#CA8A04', textTransform: 'uppercase' }}>Bona AI å°ˆå®¶è¨ºæ–·å»ºè­°çµè«–</p>
                                        <p style={{ margin: 0, fontSize: '14px', lineHeight: '1.6', fontWeight: '700', fontStyle: 'italic' }}>ã€Œ{report.advice}ã€</p>
                                    </div>
                                </div>
                            </div>

                            {/* é å°¾ */}
                            <div style={{ borderTop: '1px solid #EEE', paddingTop: '15px', textAlign: 'center' }}>
                                <p style={{ fontSize: '9px', color: '#999', letterSpacing: '2px', fontWeight: 'bold' }}>
                                    æœ¬èªè­‰æ›¸ç”± Bona Beetle Systems AI æ•¸æ“šå¼•æ“åˆ†æç”Ÿæˆ â€¢ Verified Scientific Data
                                </p>
                                <p style={{ fontSize: '7px', color: '#BBB', marginTop: '5px' }}>Â© 2024 Bona Beetle Lab â€¢ è½‰åŒ–å¸¸æ•¸åŸºæº–: {EFF_CONSTANT} mm/g</p>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>